{% extends 'base/main.html' %}
{% block content %}

<div class="header-bar">
    <div>
        <h1> Hello {{request.user|title}}</h1>
        <h4 style="margin:0;">You Have <b>{{count}}</b> incomplete task{{count|pluralize}}</h4>
    </div>
    {% if request.user.is_authenticated %}
    <a href="{% url 'logout' %}"><b>Logout</b></a>
    {% else %}
    <a href="{% url 'login' %}"><b>Login</b></a>
    {% endif %}
</div>

<div id="search-add-wrapper">
    <form method="GET" style="margin-top:20px; display: flex;">
        <input type="text" name="search-area" value="{{search_input}}" />
        <input class="button" type="submit" value="Search"/>
    </form>
    <a id="add-link" href="{% url 'task-create' %}" >&#x2b;</a>
</div>

<div class="task-items-wrapper">
    {% for task in tasks %}
        <div class="task-wrapper">
        
            {% if task.complete %}
                <div class="task-title">
                    <div class="task-complete-icon"></div>
                    <i><s><a href="{% url 'task-update' task.id%}">{{task}}</a></s></i>            
                </div>
                <div>{{task.du}}</div>
                <div class="options">
                    <a class="update-link" href="{% url 'task-update' task.id%}">&#9998;</a>
                    <a class="delete-link" href="{% url 'task-delete' task.id%}">&#10006;</a>
                </div>
                
                
            {% else %}
                <div class="task-title">
                    <div class="task-incomplete-icon"></div>
                    
                    <a href="{% url 'task-update' task.id%}"><span>{{task.priority}} :</span>{{task}}</a>
                
                </div>
                <div class="options">
                    <a class="update-link" href="{% url 'task-update' task.id%}">&#9998;</a>
                    <a class="delete-link" href="{% url 'task-delete' task.id%}">&#10006;</a>
                </div>
            {% endif %}        
        </div>
    {% empty %}
    <p style="padding:10px;">No items in list</p>
    {% endfor %}
</div>


{% endblock content %} 

<!--<td><a href="{% url 'task-update' task.id%}">Edit</a></td>-->